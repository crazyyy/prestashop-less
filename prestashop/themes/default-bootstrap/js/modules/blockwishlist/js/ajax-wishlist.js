function WishlistCart(t,e,s,i,a){$.ajax({type:"GET",url:baseDir+"modules/blockwishlist/cart.php?rand="+(new Date).getTime(),headers:{"cache-control":"no-cache"},async:!0,cache:!1,data:"action="+e+"&id_product="+s+"&quantity="+a+"&token="+static_token+"&id_product_attribute="+i,success:function(i){"add"==e&&(1==isLogged?(wishlistProductsIdsAdd(s),wishlistRefreshStatus(),$.prototype.fancybox?$.fancybox.open([{type:"inline",autoScale:!0,minHeight:30,content:'<p class="fancybox-error">'+added_to_wishlist+"</p>"}],{padding:0}):alert(added_to_wishlist)):$.prototype.fancybox?$.fancybox.open([{type:"inline",autoScale:!0,minHeight:30,content:'<p class="fancybox-error">'+loggin_required+"</p>"}],{padding:0}):alert(loggin_required)),"delete"==e&&(wishlistProductsIdsRemove(s),wishlistRefreshStatus()),0!=$("#"+t).length&&($("#"+t).slideUp("normal"),document.getElementById(t).innerHTML=i,$("#"+t).slideDown("normal"))}})}function WishlistChangeDefault(t,e){$.ajax({type:"GET",url:baseDir+"modules/blockwishlist/cart.php?rand="+(new Date).getTime(),headers:{"cache-control":"no-cache"},async:!0,data:"id_wishlist="+e+"&token="+static_token,cache:!1,success:function(e){$("#"+t).slideUp("normal"),document.getElementById(t).innerHTML=e,$("#"+t).slideDown("normal")}})}function WishlistBuyProduct(t,e,s,i,a,n){return n?ajaxCart.add(e,s,!1,a,1,[t,i]):($("#"+i).val(0),WishlistAddProductCart(t,e,s,i),document.forms["addtocart_"+e+"_"+s].method="POST",document.forms["addtocart_"+e+"_"+s].action=baseUri+"?controller=cart",document.forms["addtocart_"+e+"_"+s].elements.token.value=static_token,document.forms["addtocart_"+e+"_"+s].submit()),!0}function WishlistAddProductCart(t,e,s,i){return $("#"+i).val()<=0?!1:($.ajax({type:"GET",url:baseDir+"modules/blockwishlist/buywishlistproduct.php?rand="+(new Date).getTime(),headers:{"cache-control":"no-cache"},data:"token="+t+"&static_token="+static_token+"&id_product="+e+"&id_product_attribute="+s,async:!0,cache:!1,success:function(t){t?$.prototype.fancybox?$.fancybox.open([{type:"inline",autoScale:!0,minHeight:30,content:'<p class="fancybox-error">'+t+"</p>"}],{padding:0}):alert(t):$("#"+i).val($("#"+i).val()-1)}}),!0)}function WishlistManage(t,e){$.ajax({type:"GET",async:!0,url:baseDir+"modules/blockwishlist/managewishlist.php?rand="+(new Date).getTime(),headers:{"cache-control":"no-cache"},data:"id_wishlist="+e+"&refresh="+!1,cache:!1,success:function(e){$("#"+t).hide(),document.getElementById(t).innerHTML=e,$("#"+t).fadeIn("slow")}})}function WishlistProductManage(t,e,s,i,a,n,o){$.ajax({type:"GET",async:!0,url:baseDir+"modules/blockwishlist/managewishlist.php?rand="+(new Date).getTime(),headers:{"cache-control":"no-cache"},data:"action="+e+"&id_wishlist="+s+"&id_product="+i+"&id_product_attribute="+a+"&quantity="+n+"&priority="+o+"&refresh="+!0,cache:!1,success:function(t){"delete"==e?$("#wlp_"+i+"_"+a).fadeOut("fast"):"update"==e&&($("#wlp_"+i+"_"+a).fadeOut("fast"),$("#wlp_"+i+"_"+a).fadeIn("fast")),nb_products=0,$("[id^='quantity']").each(function(t,e){nb_products+=parseInt(e.value)}),$("#wishlist_"+s).children("td").eq(1).html(nb_products)}})}function WishlistDelete(t,e,s){var i=confirm(s);return 0==i?!1:"undefined"==typeof mywishlist_url?!1:void $.ajax({type:"GET",async:!0,url:mywishlist_url,headers:{"cache-control":"no-cache"},cache:!1,data:{rand:(new Date).getTime(),deleted:1,id_wishlist:e},success:function(e){var s=$("#"+t).siblings().length;$("#"+t).fadeOut("slow").remove(),$("#block-order-detail").html(""),0==s&&$("#block-history").remove()}})}function WishlistVisibility(t,e){"none"==$("#hide"+e).css("display")?($("."+t).slideDown("fast"),$("#show"+e).hide(),$("#hide"+e).css("display","block")):($("."+t).slideUp("fast"),$("#hide"+e).hide(),$("#show"+e).css("display","block"))}function WishlistSend(t,e,s){$.post(baseDir+"modules/blockwishlist/sendwishlist.php",{token:static_token,id_wishlist:e,email1:$("#"+s+"1").val(),email2:$("#"+s+"2").val(),email3:$("#"+s+"3").val(),email4:$("#"+s+"4").val(),email5:$("#"+s+"5").val(),email6:$("#"+s+"6").val(),email7:$("#"+s+"7").val(),email8:$("#"+s+"8").val(),email9:$("#"+s+"9").val(),email10:$("#"+s+"10").val()},function(e){e?$.prototype.fancybox?$.fancybox.open([{type:"inline",autoScale:!0,minHeight:30,content:'<p class="fancybox-error">'+e+"</p>"}],{padding:0}):alert(e):WishlistVisibility(t,"hideSendWishlist")})}function wishlistProductsIdsAdd(t){-1==$.inArray(parseInt(t),wishlistProductsIds)&&wishlistProductsIds.push(parseInt(t))}function wishlistProductsIdsRemove(t){wishlistProductsIds.splice($.inArray(parseInt(t),wishlistProductsIds),1)}function wishlistRefreshStatus(){$(".addToWishlist").each(function(){-1!=$.inArray(parseInt($(this).prop("rel")),wishlistProductsIds)?$(this).addClass("checked"):$(this).removeClass("checked")})}var wishlistProductsIds=[];$(document).ready(function(){wishlistRefreshStatus(),$(document).on("change","select[name=wishlists]",function(){WishlistChangeDefault("wishlist_block_list",$(this).val())})});